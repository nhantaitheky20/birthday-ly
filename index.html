<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>G·ª≠i B·∫°n ‚ù§Ô∏è</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent;}

body{
height:100vh;
overflow:hidden;
font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
background:radial-gradient(circle at center,#1a001f,#000);
display:flex;
align-items:center;
justify-content:center;
color:#fff;
text-align:center;
}

/* Background glow */
body::before{
content:"";
position:absolute;
width:400px;height:400px;
background:radial-gradient(circle,#ff1493,transparent 70%);
filter:blur(120px);
opacity:.4;
animation:pulseBg 4s infinite alternate;
}
@keyframes pulseBg{from{opacity:.2}to{opacity:.5}}

/* Container */
.container{z-index:2;max-width:90%;padding:20px;}

h1{
font-size:32px;
background:linear-gradient(90deg,#ff4da6,#ff99cc,#ff4da6);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
}

.message{
margin-top:15px;
font-size:18px;
min-height:60px;
}

img{
width:160px;height:160px;
border-radius:50%;
object-fit:cover;
margin-top:20px;
box-shadow:0 0 25px #ff4da6;
animation:pulse 2s infinite alternate;
}
@keyframes pulse{from{transform:scale(1)}to{transform:scale(1.05)}}

button{
margin-top:25px;
padding:12px 28px;
border:none;
border-radius:30px;
background:linear-gradient(45deg,#ff1493,#ff66cc);
color:#fff;
font-size:16px;
cursor:pointer;
}

/* Hearts */
.heart{
position:absolute;
color:#ff4da6;
animation:float 6s linear infinite;
}
@keyframes float{
0%{transform:translateY(100vh) scale(.5);opacity:0}
50%{opacity:1}
100%{transform:translateY(-10vh) scale(1.3);opacity:0}
}

canvas{position:absolute;top:0;left:0;z-index:1;}
</style>
</head>

<body>

<canvas id="fireworks"></canvas>

<div class="container">
<h1 id="title">G·ª≠i B·∫°n ‚ù§Ô∏è</h1>
<div class="message" id="text"></div>
<img id="avatar" style="display:none;">
<br>
<input type="file" id="upload" accept="image/*" style="margin-top:10px;color:white">
<br>
<button onclick="start()">Nh·∫•n v√†o ƒë√¢y üíñ</button>
</div>

<audio id="music" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"></audio>

<script>

/* L·∫•y t√™n t·ª´ URL */
const params=new URLSearchParams(location.search);
const name=params.get("name");
if(name){
document.getElementById("title").innerText=`G·ª≠i ${name} ‚ù§Ô∏è`;
}

/* Upload ·∫£nh */
const upload=document.getElementById("upload");
const avatar=document.getElementById("avatar");
upload.addEventListener("change",function(){
const file=this.files[0];
if(file){
const reader=new FileReader();
reader.onload=e=>{
avatar.src=e.target.result;
avatar.style.display="block";
}
reader.readAsDataURL(file);
}
});

/* Tr√°i tim bay */
setInterval(()=>{
let heart=document.createElement("div");
heart.className="heart";
heart.innerHTML="‚ù§";
heart.style.left=Math.random()*100+"%";
heart.style.fontSize=Math.random()*25+15+"px";
document.body.appendChild(heart);
setTimeout(()=>heart.remove(),6000);
},400);

/* G√µ ch·ªØ t·ª´ng d√≤ng */
const lines=[
"Ch√∫c b·∫°n lu√¥n xinh ƒë·∫πp nh∆∞ b√¢y gi·ªù üíï",
"Lu√¥n c∆∞·ªùi th·∫≠t t∆∞∆°i m·ªói ng√†y üå∏",
"Lu√¥n th√†nh c√¥ng v√† h·∫°nh ph√∫c üåπ",
"V√† m√£i b√™n nhau b·∫°n nh√© ‚ù§Ô∏è"
];

function typeWriter(){
let i=0;
function showLine(){
if(i<lines.length){
let p=document.createElement("div");
p.innerText=lines[i];
p.style.marginTop="8px";
document.getElementById("text").appendChild(p);
i++;
setTimeout(showLine,2000);
}else{
explode();
}
}
showLine();
}

/* Fireworks nh·∫π */
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
canvas.width=innerWidth;
canvas.height=innerHeight;

let particles=[];
function explode(){
for(let i=0;i<120;i++){
particles.push({
x:canvas.width/2,
y:canvas.height/2,
angle:Math.random()*Math.PI*2,
speed:Math.random()*4+2,
life:80
});
}
}

function animate(){
ctx.clearRect(0,0,canvas.width,canvas.height);
particles.forEach((p,i)=>{
p.x+=Math.cos(p.angle)*p.speed;
p.y+=Math.sin(p.angle)*p.speed;
p.life--;
ctx.beginPath();
ctx.arc(p.x,p.y,2,0,Math.PI*2);
ctx.fillStyle=`hsl(${Math.random()*360},100%,70%)`;
ctx.fill();
if(p.life<=0)particles.splice(i,1);
});
requestAnimationFrame(animate);
}
animate();

/* Start */
function start(){
document.getElementById("music").play();
typeWriter();
}
</script>

</body>
</html>
