<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday üíñ</title>

<style>
body {
    margin: 0;
    background: linear-gradient(45deg, #ff9a9e, #fad0c4);
    overflow: hidden;
    font-family: Arial, sans-serif;
    text-align: center;
}

/* Layout card cƒÉn gi·ªØa m√†n h√¨nh */
.card {
    min-height: 100vh;
    padding: 20px;
    box-sizing: border-box;

    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

img {
    width: 60vw;
    max-width: 220px;
    border-radius: 20px;
    box-shadow: 0 0 20px rgba(255,255,255,0.8);
    margin-bottom: 10px;
}

h1 {
    color: white;
    text-shadow: 0 0 10px red;
    margin-bottom: 10px;
}

#text {
    color: white;
    font-size: 18px;
    margin: 20px;
    min-height: 140px;
    white-space: pre-line;
    max-width: 90vw;
}

/* Tim bay n·ªÅn */
.heart {
    position: fixed;
    animation: fly 4s linear forwards;
    pointer-events: none;
}

@keyframes fly {
    from { transform: translateY(0); opacity: 1; }
    to { transform: translateY(-800px); opacity: 0; }
}

/* ===== Tim nh·ªè theo t·ª´ng k√Ω t·ª± ===== */
@keyframes miniFly {
    from {
        transform: translate(0, 0) scale(0.8) rotate(0deg);
        opacity: 1;
    }
    to {
        transform: translate(-10px, -50px) scale(1.6) rotate(20deg);
        opacity: 0;
    }
}

.mini-heart {
    position: fixed;
    pointer-events: none;
    font-size: 18px;
    animation: miniFly 1.2s ease-out forwards;
    z-index: 9999;
}

/* Mobile t·ªëi ∆∞u ch·ªØ */
@media (max-width: 480px) {
    h1 {
        font-size: 24px;
    }
    #text {
        font-size: 17px;
    }
}
</style>
</head>

<body>

<!-- üéµ NH·∫†C -->
<audio id="bgm" loop playsinline>
  <source src="happy.mp3" type="audio/mpeg">
</audio>

<div class="card">
    <h1>üíñ Happy Birthday üíñ</h1>
    <img src="ly.jpeg" alt="Ly">
    <div id="text"></div>
</div>

<script>
// ====== B·∫¨T NH·∫†C KHI CH·∫†M ======
let musicStarted = false;
function startMusic() {
    if (musicStarted) return;
    const audio = document.getElementById("bgm");
    if (!audio) return;

    audio.muted = false;
    audio.play().then(() => {
        musicStarted = true;
    }).catch(() => {});
}

document.body.addEventListener("touchstart", startMusic, { once: true });
document.body.addEventListener("click", startMusic, { once: true });

// ====== L·ªúI CH√öC ======
const message = `
H√¥m nay l√† m·ªôt ng√†y th·∫≠t ƒë·∫∑c bi·ªát...
V√¨ ƒë√≥ l√† ng√†y c·∫≠u xu·∫•t hi·ªán tr√™n th·∫ø gi·ªõi n√†y üíñ

Ch√∫c c·∫≠u lu√¥n vui v·∫ª,
lu√¥n c∆∞·ªùi th·∫≠t nhi·ªÅu,
lu√¥n h·∫°nh ph√∫c v√† ƒë∆∞·ª£c y√™u th∆∞∆°ng th·∫≠t nhi·ªÅu nh√© ü•∞

C·∫£m ∆°n c·∫≠u v√¨ ƒë√£ xu·∫•t hi·ªán trong cu·ªôc ƒë·ªùi n√†y.
`;

let i = 0;
const speed = 45;

// ====== Tim ƒë·ªïi m√†u ng·∫´u nhi√™n ======
function randomColor() {
    const colors = ["#ff3366", "#ff66cc", "#ff0000", "#ff99cc", "#ff6699", "#ff3399", "#ff5fa2"];
    return colors[Math.floor(Math.random() * colors.length)];
}

// ====== T·∫°o tim theo v·ªã tr√≠ k√Ω t·ª± ======
function createMiniHeartAtElement(el) {
    const rect = el.getBoundingClientRect();

    const heart = document.createElement("div");
    heart.className = "mini-heart";
    heart.innerHTML = "üíñ";

    heart.style.left = (rect.left + rect.width / 2) + "px";
    heart.style.top = (rect.top + rect.height / 2) + "px";
    heart.style.color = randomColor();

    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), 1200);
}

// ====== HI·ªÜU ·ª®NG G√ï CH·ªÆ ======
function typeWriter() {
    if (i < message.length) {
        const textEl = document.getElementById("text");

        const span = document.createElement("span");
        span.textContent = message.charAt(i);
        textEl.appendChild(span);

        // t·∫°o tim theo ƒë√∫ng v·ªã tr√≠ ch·ªØ v·ª´a hi·ªán
        if (message.charAt(i).trim() !== "") {
            createMiniHeartAtElement(span);
        }

        i++;
        setTimeout(typeWriter, speed);
    }
}

typeWriter();

// ====== TIM BAY N·ªÄN ======
function createHeart() {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerHTML = "üíñ";
    heart.style.left = Math.random() * window.innerWidth + "px";
    heart.style.bottom = "0px";
    heart.style.fontSize = (20 + Math.random() * 30) + "px";
    document.body.appendChild(heart);

    setTimeout(() => heart.remove(), 4000);
}

setInterval(createHeart, 500);
</script>

</body>
</html>
